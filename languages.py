# languages.py
import logging

# рдбрд┐рдлрд╝реЙрд▓реНрдЯ рднрд╛рд╖рд╛
DEFAULT_LANGUAGE = "en" # рдЖрдк рдЗрд╕реЗ рдЕрдкрдиреА рдкрд╕рдВрдж рдХреА рдбрд┐рдлрд╝реЙрд▓реНрдЯ рднрд╛рд╖рд╛ рдореЗрдВ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ (рдЬреИрд╕реЗ "hi" рд╣рд┐рдВрджреА рдХреЗ рд▓рд┐рдП)

# рд╕рднреА рднрд╛рд╖рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЯреЗрдХреНрд╕реНрдЯ рд╕реНрдЯреНрд░рд┐рдВрдЧреНрд╕
LANGUAGES = {
    "en": {
        "name_in_english": "English",
        "start_message": "Hello! Welcome to the bot. How can I help you today?",
        "main_menu_message": "Welcome back! Here are the options:", # рдирдпрд╛ рдореЗрдиреВ рдореИрд╕реЗрдЬ
        "start_button_earn": "ЁЯТ░ Earn Points",
        "start_button_refer": "ЁЯСе Refer Friend",
        "start_button_balance": "ЁЯУК Check Balance",
        "start_button_withdraw": "ЁЯТ╕ Withdraw Points",
        "start_button_language": "ЁЯМР Change Language",
        "start_button_help": "тЭУ Help",
        "help_message": "This bot helps you earn points by completing tasks and referring friends. You can then withdraw these points. For any assistance, contact admin.",
        
        # рдЕрдирд┐рд╡рд╛рд░реНрдп рдЪреИрдирд▓ рдЬреЙрдЗрди рдЯреЗрдХреНрд╕реНрдЯ
        "force_subscribe_message": "To use this bot, you must join our channel: {channel_link}\n\nAfter joining, click the 'I have joined' button.",
        "force_subscribe_button": "ЁЯФЧ Join Channel",
        "force_subscribe_check_button": "тЬЕ I have joined",
        "force_subscribe_not_joined": "You haven't joined the channel yet. Please join to continue.",
        "force_subscribe_error_no_username": "Could not verify channel. Please contact support.",

        # рднрд╛рд╖рд╛ рдЪрдпрди рдЯреЗрдХреНрд╕реНрдЯ
        "choose_language": "Please choose your preferred language:",
        "language_set_success": "Language set to {lang_name} successfully!",

        # рдЕрд░реНрдирд┐рдВрдЧ рдкреЙрдЗрдВрдЯреНрд╕ рдФрд░ рд╢реЙрд░реНрдЯрд▓рд┐рдВрдХ рдЯреЗрдХреНрд╕реНрдЯ
        "earn_points_instructions": "Click on the link below to earn points. Complete the steps on the website, then come back and click 'Check Completion':\n\n{shortlink_url}\n\n**Note:** Make sure to complete all steps on the website to receive points.",
        "button_check_completion": "тЬЕ Check Completion",
        "shortlink_completed_success": "Congratulations! You earned {points} points for completing the task. Your new balance is {balance} points.",
        "shortlink_not_completed": "It seems you haven't completed the shortlink yet, or we couldn't verify it. Please try again or ensure you completed all steps.",
        "error_generating_shortlink": "Failed to generate shortlink. Please try again later.",
        "error_api_call": "There was an issue connecting to the shortlink service. Please try again in a moment.",
        "error_api_check": "Could not verify shortlink completion at this time. Please try again.",
        
        # рд░реЗрдлрд░рд▓ рдЯреЗрдХреНрд╕реНрдЯ
        "refer_message": "Invite your friends and earn points! Share your unique referral link:\n\n{referral_link}\n\nYou will receive points for each successful referral.",
        
        # рдмреИрд▓реЗрдВрд╕ рдЯреЗрдХреНрд╕реНрдЯ
        "balance_message": "Your current balance is: {points} points.",
        
        # рдирд┐рдХрд╛рд╕реА рдЯреЗрдХреНрд╕реНрдЯ
        "withdraw_message": "Withdrawal options will be displayed here. Please follow the instructions to request a withdrawal.",
        
        # рд╕рд╛рдорд╛рдиреНрдп рддреНрд░реБрдЯрд┐
        "error_general": "An unexpected error occurred. Please try again.",
        "user_not_found": "User data not found. Please try /start again.",

        # рдирд┐рдХрд╛рд╕реА рд╕реНрдерд┐рддрд┐ рдЕрдкрдбреЗрдЯ (рдПрдбрдорд┐рди рдХреЗ рд▓рд┐рдП)
        "withdrawal_status_update_messages": {
            "pending": "тП│ Your withdrawal request is pending approval.",
            "approved": "тЬЕ Your withdrawal request has been approved and processed. You should receive your funds shortly.",
            "rejected": "тЭМ Your withdrawal request was rejected. Reason: {reason}",
            "completed": "тЬЕ Your withdrawal request has been successfully completed. Funds should be in your account.",
            "processing": "ЁЯФД Your withdrawal request is being processed. Please wait.",
        }
    },
    "hi": {
        "name_in_english": "Hindi",
        "start_message": "рдирдорд╕реНрддреЗ! рдмреЙрдЯ рдореЗрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИред рдореИрдВ рдЖрдЬ рдЖрдкрдХреА рдХреНрдпрд╛ рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реВрдБ?",
        "main_menu_message": "рд╡рд╛рдкрд╕ рд╕реНрд╡рд╛рдЧрдд рд╣реИ! рдпреЗ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ:", # рдирдпрд╛ рдореЗрдиреВ рдореИрд╕реЗрдЬ
        "start_button_earn": "ЁЯТ░ рдЕрдВрдХ рдХрдорд╛рдПрдБ",
        "start_button_refer": "ЁЯСе рджреЛрд╕реНрдд рдХреЛ рд░реЗрдлрд░ рдХрд░реЗрдВ",
        "start_button_balance": "ЁЯУК рдмреИрд▓реЗрдВрд╕ рджреЗрдЦреЗрдВ",
        "start_button_withdraw": "ЁЯТ╕ рдЕрдВрдХ рдирд┐рдХрд╛рд▓реЗрдВ",
        "start_button_language": "ЁЯМР рднрд╛рд╖рд╛ рдмрджрд▓реЗрдВ",
        "start_button_help": "тЭУ рдорджрдж",
        "help_message": "рдпрд╣ рдмреЙрдЯ рдЖрдкрдХреЛ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░рдХреЗ рдФрд░ рджреЛрд╕реНрддреЛрдВ рдХреЛ рд░реЗрдлрд░ рдХрд░рдХреЗ рдЕрдВрдХ рдХрдорд╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИред рдЖрдк рдЗрди рдЕрдВрдХреЛрдВ рдХреЛ рдмрд╛рдж рдореЗрдВ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВред рдХрд┐рд╕реА рднреА рд╕рд╣рд╛рдпрддрд╛ рдХреЗ рд▓рд┐рдП, рдПрдбрдорд┐рди рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВред",

        # рдЕрдирд┐рд╡рд╛рд░реНрдп рдЪреИрдирд▓ рдЬреЙрдЗрди рдЯреЗрдХреНрд╕реНрдЯ
        "force_subscribe_message": "рдЗрд╕ рдмреЙрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рд╣рдорд╛рд░реЗ рдЪреИрдирд▓ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдирд╛ рд╣реЛрдЧрд╛: {channel_link}\n\nрд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, 'рдореИрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛ рдЧрдпрд╛ рд╣реВрдБ' рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред",
        "force_subscribe_button": "ЁЯФЧ рдЪреИрдирд▓ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ",
        "force_subscribe_check_button": "тЬЕ рдореИрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛ рдЧрдпрд╛ рд╣реВрдБ",
        "force_subscribe_not_joined": "рдЖрдк рдЕрднреА рддрдХ рдЪреИрдирд▓ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рд╣реБрдП рд╣реИрдВред рдХреГрдкрдпрд╛ рдЬрд╛рд░реА рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╢рд╛рдорд┐рд▓ рд╣реЛрдВред",
        "force_subscribe_error_no_username": "рдЪреИрдирд▓ рд╕рддреНрдпрд╛рдкрд┐рдд рдирд╣реАрдВ рд╣реЛ рд╕рдХрд╛ред рдХреГрдкрдпрд╛ рд╕рд╣рд╛рдпрддрд╛ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВред",

        # рднрд╛рд╖рд╛ рдЪрдпрди рдЯреЗрдХреНрд╕реНрдЯ
        "choose_language": "рдХреГрдкрдпрд╛ рдЕрдкрдиреА рдкрд╕рдВрджреАрджрд╛ рднрд╛рд╖рд╛ рдЪреБрдиреЗрдВ:",
        "language_set_success": "рднрд╛рд╖рд╛ {lang_name} рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд╕реЗрдЯ рд╣реЛ рдЧрдИ рд╣реИ!",

        # рдЕрд░реНрдирд┐рдВрдЧ рдкреЙрдЗрдВрдЯреНрд╕ рдФрд░ рд╢реЙрд░реНрдЯрд▓рд┐рдВрдХ рдЯреЗрдХреНрд╕реНрдЯ
        "earn_points_instructions": "рдЕрдВрдХ рдХрдорд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рд▓рд┐рдВрдХ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рджрд┐рдП рдЧрдП рдЪрд░рдгреЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░реЗрдВ, рдлрд┐рд░ рд╡рд╛рдкрд╕ рдЖрдХрд░ 'рдХрдВрдкреНрд▓реАрд╢рди рдЬрд╛рдВрдЪреЗрдВ' рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ:\n\n{shortlink_url}\n\n**рдиреЛрдЯ:** рдЕрдВрдХ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рд╕рднреА рдЪрд░рдгреЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░рдирд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВред",
        "button_check_completion": "тЬЕ рдХрдВрдкреНрд▓реАрд╢рди рдЬрд╛рдВрдЪреЗрдВ",
        "shortlink_completed_success": "рдмрдзрд╛рдИ рд╣реЛ! рдЖрдкрдиреЗ рдХрд╛рд░реНрдп рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП {points} рдЕрдВрдХ рдЕрд░реНрдЬрд┐рдд рдХрд┐рдП рд╣реИрдВред рдЖрдкрдХрд╛ рдирдпрд╛ рдмреИрд▓реЗрдВрд╕ {balance} рдЕрдВрдХ рд╣реИред",
        "shortlink_not_completed": "рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдиреЗ рдЕрднреА рддрдХ рд╢реЙрд░реНрдЯрд▓рд┐рдВрдХ рдкреВрд░рд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ, рдпрд╛ рд╣рдо рдЗрд╕реЗ рд╕рддреНрдпрд╛рдкрд┐рдд рдирд╣реАрдВ рдХрд░ рд╕рдХреЗред рдХреГрдкрдпрд╛ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ рдпрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдиреЗ рд╕рднреА рдЪрд░рдг рдкреВрд░реЗ рдХрд░ рд▓рд┐рдП рд╣реИрдВред",
        "error_generating_shortlink": "рд╢реЙрд░реНрдЯрд▓рд┐рдВрдХ рдмрдирд╛рдиреЗ рдореЗрдВ рд╡рд┐рдлрд▓ рд░рд╣рд╛ред рдХреГрдкрдпрд╛ рдмрд╛рдж рдореЗрдВ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред",
        "error_api_call": "рд╢реЙрд░реНрдЯрд▓рд┐рдВрдХ рд╕реЗрд╡рд╛ рд╕реЗ рдЬреБрдбрд╝рдиреЗ рдореЗрдВ рд╕рдорд╕реНрдпрд╛ рдереАред рдХреГрдкрдпрд╛ рдХреБрдЫ рджреЗрд░ рдмрд╛рдж рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред",
        "error_api_check": "рдЗрд╕ рд╕рдордп рд╢реЙрд░реНрдЯрд▓рд┐рдВрдХ рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХрд╛ рд╕рддреНрдпрд╛рдкрди рдирд╣реАрдВ рд╣реЛ рд╕рдХрд╛ред рдХреГрдкрдпрд╛ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред",

        # рд░реЗрдлрд░рд▓ рдЯреЗрдХреНрд╕реНрдЯ
        "refer_message": "рдЕрдкрдиреЗ рджреЛрд╕реНрддреЛрдВ рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдХрд░реЗрдВ рдФрд░ рдЕрдВрдХ рдХрдорд╛рдПрдБ! рдЕрдкрдиреА рдЕрджреНрд╡рд┐рддреАрдп рд░реЗрдлрд░рд▓ рд▓рд┐рдВрдХ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ:\n\n{referral_link}\n\nрдЖрдкрдХреЛ рдкреНрд░рддреНрдпреЗрдХ рд╕рдлрд▓ рд░реЗрдлрд░рд▓ рдХреЗ рд▓рд┐рдП рдЕрдВрдХ рдкреНрд░рд╛рдкреНрдд рд╣реЛрдВрдЧреЗред",

        # рдмреИрд▓реЗрдВрд╕ рдЯреЗрдХреНрд╕реНрдЯ
        "balance_message": "рдЖрдкрдХрд╛ рд╡рд░реНрддрдорд╛рди рдмреИрд▓реЗрдВрд╕ рд╣реИ: {points} рдЕрдВрдХред",
        
        # рдирд┐рдХрд╛рд╕реА рдЯреЗрдХреНрд╕реНрдЯ
        "withdraw_message": "рдирд┐рдХрд╛рд╕реА рд╡рд┐рдХрд▓реНрдк рдпрд╣рд╛рдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдП рдЬрд╛рдПрдВрдЧреЗред рдирд┐рдХрд╛рд╕реА рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреГрдкрдпрд╛ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВред",

        # рд╕рд╛рдорд╛рдиреНрдп рддреНрд░реБрдЯрд┐
        "error_general": "рдПрдХ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рддреНрд░реБрдЯрд┐ рд╣реБрдИред рдХреГрдкрдпрд╛ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред",
        "user_not_found": "рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдбреЗрдЯрд╛ рдирд╣реАрдВ рдорд┐рд▓рд╛ред рдХреГрдкрдпрд╛ /start рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред",

        # рдирд┐рдХрд╛рд╕реА рд╕реНрдерд┐рддрд┐ рдЕрдкрдбреЗрдЯ (рдПрдбрдорд┐рди рдХреЗ рд▓рд┐рдП)
        "withdrawal_status_update_messages": {
            "pending": "тП│ рдЖрдкрдХреА рдирд┐рдХрд╛рд╕реА рдХрд╛ рдЕрдиреБрд░реЛрдз рд╡рд┐рдЪрд╛рд░рд╛рдзреАрди рд╣реИред",
            "approved": "тЬЕ рдЖрдкрдХреА рдирд┐рдХрд╛рд╕реА рдХрд╛ рдЕрдиреБрд░реЛрдз рд╕реНрд╡реАрдХреГрдд рдФрд░ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЖрдкрдХреЛ рдЬрд▓реНрдж рд╣реА рдзрдирд░рд╛рд╢рд┐ рдкреНрд░рд╛рдкреНрдд рд╣реЛ рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдПред",
            "rejected": "тЭМ рдЖрдкрдХреА рдирд┐рдХрд╛рд╕реА рдХрд╛ рдЕрдиреБрд░реЛрдз рдЕрд╕реНрд╡реАрдХреГрдд рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ред рдХрд╛рд░рдг: {reason}",
            "completed": "тЬЕ рдЖрдкрдХреА рдирд┐рдХрд╛рд╕реА рдХрд╛ рдЕрдиреБрд░реЛрдз рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдкреВрд░рд╛ рд╣реЛ рдЧрдпрд╛ рд╣реИред рдзрдирд░рд╛рд╢рд┐ рдЖрдкрдХреЗ рдЦрд╛рддреЗ рдореЗрдВ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред",
            "processing": "ЁЯФД рдЖрдкрдХреА рдирд┐рдХрд╛рд╕реА рдХрд╛ рдЕрдиреБрд░реЛрдз рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред рдХреГрдкрдпрд╛ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВред",
        }
    }
    # рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдФрд░ рднрд╛рд╖рд╛рдПрдБ рдпрд╣рд╛рдВ рдЬреЛрдбрд╝реА рдЬрд╛ рд╕рдХрддреА рд╣реИрдВ
}

def get_text(key: str, lang_code: str = DEFAULT_LANGUAGE) -> str:
    """рдирд┐рд░реНрджрд┐рд╖реНрдЯ рднрд╛рд╖рд╛ рдХреЗ рд▓рд┐рдП рдЯреЗрдХреНрд╕реНрдЯ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд▓реМрдЯрд╛рддрд╛ рд╣реИ, рдпрджрд┐ рдЙрдкрд▓рдмреНрдз рди рд╣реЛ рддреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкрд░ рд╡рд╛рдкрд╕ рдЖрддрд╛ рд╣реИред"""
    if lang_code in LANGUAGES and key in LANGUAGES[lang_code]:
        return LANGUAGES[lang_code][key]
    elif key in LANGUAGES[DEFAULT_LANGUAGE]:
        return LANGUAGES[DEFAULT_LANGUAGE][key]
    else:
        # рдпрджрд┐ рдХреБрдВрдЬреА рдХрд┐рд╕реА рднреА рднрд╛рд╖рд╛ рдореЗрдВ рдирд╣реАрдВ рдорд┐рд▓рддреА рд╣реИ, рддреЛ рдПрдХ рддреНрд░реБрдЯрд┐ рд▓реЙрдЧ рдХрд░реЗрдВ рдФрд░ рдХреБрдВрдЬреА рд╣реА рд▓реМрдЯрд╛ рджреЗрдВ
        logging.warning(f"Missing text key '{key}' for language '{lang_code}'.")
        return f"MISSING_TEXT:{key}"
